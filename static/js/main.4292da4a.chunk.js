(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(38),i=a.n(n),s=(a(110),a(10)),o=(a(111),a(22)),l=a(16);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favoritesList:[],currentCity:[],currentWeather:[],searchOptions:[],currentCityId:"215854"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get-search-list":e.searchOptions=[];var a=Object(l.a)(t.payload.data);return a.map((function(t,a){e.searchOptions[t.LocalizedName]=[],e.searchOptions[t.LocalizedName].push({name:t.LocalizedName,locationKey:t.Key})})),Object(o.a)({},e);case"set-current-city":return e.currentCity=[],e.currentCity=Object(l.a)(t.payload.data.DailyForecasts),Object(o.a)(Object(o.a)({},e),{},{currentCity:Object(l.a)(e.currentCity)});case"set-current-city-id":return e.currentCityId=[t.payload.input],Object(o.a)(Object(o.a)({},e),{},{currentCityId:[e.currentCityId]});case"set-current-weather":return e.currentWeather&&(e.currentWeather=[]),e.currentWeather=Object(l.a)(t.payload.data),Object(o.a)(Object(o.a)({},e),{},{currentWeather:Object(l.a)(e.currentWeather)});case"add-to-favorites":return e.favoritesList[t.payload.newFav.city]=[],e.favoritesList[t.payload.newFav.city].push({city:t.payload.newFav.city,textWeather:t.payload.newFav.textWeather,temp:t.payload.newFav.temp,locationId:t.payload.newFav.locationId}),Object(o.a)({},e);case"remove-from-favorites":return delete e.favoritesList[t.payload.city],Object(o.a)({},e);default:throw new Error}}var u=a(76),h=a.n(u),j=a(86),p="UA01NJqMP0tlVpJexyIecrIlWXF2e1Kn";function f(e,t,a){return b.apply(this,arguments)}function b(){return(b=Object(j.a)(h.a.mark((function e(t,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("autocomplete"===c){e.next=6;break}return t({type:"set-current-city-id",payload:{input:a}}),e.next=4,fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(a,"?apikey=").concat(p)).then((function(e){return e.json()})).then((function(e){t({type:"set-current-weather",payload:{data:e}})})).catch((function(e){console.log(e)}));case 4:return e.next=6,fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a,"?apikey=").concat(p)).then((function(e){return e.json()})).then((function(e){t({type:"set-current-city",payload:{data:e}})})).catch((function(e){console.log(e)}));case 6:if("autocomplete"!==c){e.next=9;break}return e.next=9,fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(p,"&q=").concat(a)).then((function(e){return e.json()})).then((function(e){t({type:"get-search-list",payload:{data:e}})})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=a(171),y=a(46),O=a.n(y),m=a(88),x=a.n(m),w=a(42),g=(a(113),a(1));function C(e){return Object(g.jsxs)("div",{className:"header-weather-app",children:[Object(g.jsx)("label",{className:"header-title",children:"Herolo Weather task"}),Object(g.jsx)(w.b,{to:"/Favorites",children:Object(g.jsx)(v.a,{sx:{color:"#fff"},"aria-label":"Favorites",component:"span",children:Object(g.jsx)(O.a,{})})}),Object(g.jsx)(w.b,{to:"/",children:Object(g.jsx)(v.a,{sx:{color:"#fff"},"aria-label":"Home",component:"span",children:Object(g.jsx)(x.a,{dispatch:e.dispatch})})})]})}var N=a(14),k=a(172);a(121);function I(e){return Object(g.jsxs)("div",{className:"favorite-weather-app",children:[0!==Object.keys(e.state.favoritesList).length&&Object.keys(e.state.favoritesList).map((function(t,a){return Object(g.jsxs)("div",{children:[Object(g.jsx)(w.b,{style:{textDecoration:"none"},to:"/",onClick:function(){return f(e.dispatch,e.state.favoritesList[t][0].locationId,"")},children:Object(g.jsxs)(k.a,{className:"card-weather-favorites",children:[Object(g.jsxs)("div",{style:{marginTop:"5px",display:"flex",flexDirection:"column",flex:"1"},children:[Object(g.jsx)("label",{children:e.state.favoritesList[t][0].city}),Object(g.jsxs)("label",{children:[e.state.favoritesList[t][0].temp,"\xb0C"]})]}),Object(g.jsx)("label",{style:{flex:"2"},children:e.state.favoritesList[t][0].textWeather})]},a)}),Object(g.jsx)(O.a,{className:"favorites-icon-page",sx:{color:"#035ce1d4",zIndex:"99999999",cursor:"pointer",transform:"scale(1)",transition:"all 0.3s"},onClick:function(){var a=e.state.favoritesList[t][0].city;e.dispatch({type:"remove-from-favorites",payload:{city:a}})}})]},a)})),0===Object.keys(e.state.favoritesList).length&&Object(g.jsx)("label",{className:"no-favorites-option",children:"No favorites yet"})]})}var L=a(168),W=a(169);var F=a(89),T=a.n(F),M=a.p+"static/media/weather-img.67f77bfe.png";a(122);function D(e){var t,a,r,n=null===(t=e.currentCity[0])||void 0===t?void 0:t.Link.split("/")[5],i=null===(a=e.currentWeather[0])||void 0===a?void 0:a.WeatherText,o=Math.round(null===(r=e.currentWeather[0])||void 0===r?void 0:r.Temperature.Metric.Value),l=Object(c.useState)(Object.keys(e.favorites).includes(n)),d=Object(s.a)(l,2),u=d[0],h=d[1];function j(e){var t=e;return Math.round(5*(t-32)/9)+"\xb0C"}return Object(c.useEffect)((function(){h(Object.keys(e.favorites).includes(n))}),[n]),Object(g.jsxs)(k.a,{className:"weather-dashboard-app",children:[Object(g.jsxs)("div",{className:"weather-dashboard-header",children:[Object(g.jsxs)("div",{className:"current-weather-div",children:[Object(g.jsx)("img",{alt:"weather-img",className:"turn-to-relative weather-img",src:M}),Object(g.jsxs)("div",{className:"add-to-favorites-div",children:[Object(g.jsx)("label",{className:"turn-to-relative",children:n}),Object(g.jsx)("label",{className:"turn-to-relative",children:o+"\xb0C"})]})]}),Object(g.jsx)("div",{className:"add-to-favorites-div favorite",children:u?Object(g.jsx)(O.a,{className:"favorites-icon turn-to-relative",sx:{color:"#035ce1d4"},onClick:function(){h(!u),e.dispatch({type:"remove-from-favorites",payload:{city:n}})}}):Object(g.jsx)(T.a,{sx:{color:"#035ce1d4"},onClick:function(){var t={city:n,textWeather:i,temp:o,locationId:e.currentCityId};h(!u),e.dispatch({type:"add-to-favorites",payload:{newFav:t}})}})})]}),Object(g.jsx)("label",{className:"turn-to-relative weather-text",children:i}),Object(g.jsx)("div",{className:"weather-info",children:e.currentCity.map((function(e,t){var a=new Date(e.Date);return Object(g.jsxs)(k.a,{className:"card-weather-dashboard",children:[Object(g.jsx)("label",{children:a.toLocaleString("en-US",{weekday:"short"})}),Object(g.jsxs)("label",{children:["min "+j(e.Temperature.Minimum.Value),Object(g.jsx)("br",{}),"max "+j(e.Temperature.Maximum.Value)]})]},t)}))})]})}a(123);function E(e){var t=new Array(Object.keys(e.searchOptions).length).fill(null),a=Object(c.useState)(),r=Object(s.a)(a,2),n=r[0],i=r[1];return Object.keys(e.searchOptions).map((function(e,a){t[a]=e})),Object(c.useEffect)((function(){if(void 0!==n){var t=e.searchOptions[n][0].locationKey;f(e.dispatch,t,"")}}),[n]),Object(g.jsxs)("div",{className:"home-weather-app",children:[Object(g.jsx)("span",{id:"message"}),Object(g.jsx)(L.a,{id:"combo-box-demo",options:t,onInputChange:function(t,a){a&&(!function(e){var t;(t=document.getElementById("message")).innerHTML="";try{if(!e)throw"invalid Input";t.innerHTML=""}catch(a){t.innerHTML=a}}(/^[a-zA-Z ]+$/.test(a)),f(e.dispatch,a,"autocomplete"))},highlight:n,onHighlightChange:function(e,t,a){"keyboard"!==a&&"mouse"!==a||i(t)},sx:{width:300},renderInput:function(e){return Object(g.jsx)(W.a,Object(o.a)(Object(o.a)({},e),{},{className:"home-weather-search",style:{width:"400px",margin:"20px 0 20px 0"},id:"outlined-basic",label:"search",variant:"standard"}))}}),Object(g.jsx)(D,{currentCityId:e.currentCityId,dispatch:e.dispatch,favorites:e.favorites,currentWeather:e.currentWeather,currentCity:e.currentCity})]})}function H(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(w.a,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)(N.c,{children:[Object(g.jsx)(N.a,{path:"ofir-salamon-06-12-2021/",element:Object(g.jsx)(E,{dispatch:e.dispatch,currentCityId:e.state.currentCityId,searchOptions:e.state.searchOptions,currentWeather:e.state.currentWeather,favorites:e.state.favoritesList,currentCity:e.state.currentCity})}),Object(g.jsx)(N.a,{path:"ofir-salamon-06-12-2021/Favorites",element:Object(g.jsx)(I,{state:e.state,dispatch:e.dispatch})})]})]})})}var S=a(90);function z(){return Object(S.a)({status:{danger:"#e53e3e"},palette:{primary:{main:"#0971f1",darker:"#053e85"},neutral:{main:"#fff",contrastText:"#fff"},added:{main:"#035ce1d4",contrastText:"#035ce1d4"}}})}var A={favoritesList:[],currentCity:[],currentWeather:[],searchOptions:[],currentCityId:"215854"};var J=function(){var e=Object(c.useReducer)(d,A),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){f(r,a.currentCityId)}),[]),Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(H,{state:a,dispatch:r,theme:z})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,174)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),r(e),n(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),K()}},[[125,1,2]]]);
//# sourceMappingURL=main.4292da4a.chunk.js.map